<div class="page">

    <app-app-header></app-app-header>

    <!-- Today Status -->
    <div class="today-grid">
        <mat-card class="mini-card">
            <p>ðŸ•˜ Entry</p>
            <h3>{{ today().entry }}</h3>
        </mat-card>

        <mat-card class="mini-card">
            <p>ðŸ•“ Exit</p>
            <h3>{{ today().exit }}</h3>
        </mat-card>
    </div>

    <!-- Quick Actions -->
    <div class="actions">
        <button mat-raised-button color="primary">ðŸ“… My Attendance</button>
        <button mat-raised-button color="accent">ðŸ“˜ My Activities</button>
        <button mat-raised-button>ðŸ”” Notifications</button>
    </div>

    <!-- History -->
    <mat-card class="history-card p-8">
        <div class="flex-between mb-4">
            <h3>Today Schedule</h3>
            <a href="#">See Previous</a>
        </div>

        <div class="table-container">
            <table mat-table [dataSource]="taskOfTheDay" class="mat-elevation-z2 full-width">

                <!-- Time Column -->
                <ng-container matColumnDef="time">
                    <th mat-header-cell *matHeaderCellDef> Time </th>
                    <td mat-cell *matCellDef="let item"> {{ item.time }} </td>
                </ng-container>

                <!-- Task Column -->
                <ng-container matColumnDef="task">
                    <th mat-header-cell *matHeaderCellDef> Subject / Task </th>
                    <td mat-cell *matCellDef="let item"> {{ item.task }} </td>
                </ng-container>

                <!-- Status Column -->
                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef> Status </th>
                    <td mat-cell *matCellDef="let item">
                        <span class="status-badge" [ngClass]="{
                'attended': item.status === 'ATTENDED',
                'absent': item.status === 'ABSENT',
                'pending': item.status === 'PENDING'
              }">
                            @if (item.status === 'ATTENDED') {
                            ðŸŸ¢ Attended
                            } @else if (item.status === 'ABSENT') {
                            ðŸ”´ Absent
                            } @else {
                            ðŸŸ¡ Pending
                            }
                        </span>
                    </td>
                </ng-container>

                <!-- Header and Row -->
                <tr mat-header-row *matHeaderRowDef="['time', 'task', 'status']"></tr>
                <tr mat-row *matRowDef="let row; columns: ['time', 'task', 'status'];"></tr>

            </table>
        </div>
    </mat-card>


    <mat-card class="history-card p-6">
        <div class="flex-between mb-4">
            <h3>Upcoming Events</h3>
            <a href="#">Past Events</a>
        </div>

        <div class="table-container">
            <table mat-table [dataSource]="schoolEvents" class="mat-elevation-z2 full-width">

                <!-- Date Column -->
                <ng-container matColumnDef="date">
                    <th mat-header-cell *matHeaderCellDef> Date </th>
                    <td mat-cell *matCellDef="let item"> {{ item.date }} </td>
                </ng-container>

                <!-- Type Column -->
                <ng-container matColumnDef="type">
                    <th mat-header-cell *matHeaderCellDef> Type </th>
                    <td mat-cell *matCellDef="let item">
                        <span class="event-badge" [ngClass]="item.type.toLowerCase()">{{ item.type }}</span>
                    </td>
                </ng-container>

                <!-- Title Column -->
                <ng-container matColumnDef="title">
                    <th mat-header-cell *matHeaderCellDef> Event </th>
                    <td mat-cell *matCellDef="let item"> {{ item.title }} </td>
                </ng-container>

                <!-- Header and Row -->
                <tr mat-header-row *matHeaderRowDef="['date', 'type', 'title']"></tr>
                <tr mat-row *matRowDef="let row; columns: ['date', 'type', 'title'];"></tr>

            </table>
        </div>
    </mat-card>
</div>